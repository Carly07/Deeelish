{% extends 'base.html' %}
{% block content %}

<h3 class="page-head">Edit Recipe</h3>

<div class="row">
	<form action="{{ url_for('update_recipe', recipe_id=recipe._id) }}" method="POST" class="col s12" enctype="multipart/form-data">

		<div class="row">
			<div class="input-field col s1"><i class="material-icons">add_photo_alternate</i></div>
			<div class="file-field input-field img-icon col s11 m6 l8">
				<div class="file-path-wrapper img-path"><input class="file-path validate" type="text" id="add_photo" name="add_photo" placeholder="Add photograph" value="{{recipe.add_photo}}"></div>
            </div>
            <div class="file-field input-field col s12 m5 l3">
				<div class="btn btn-img right"><span>Select Image</span><input type="file" name="file" id="image"></div>
            </div>
		</div>

				<div class="row">
					<div class="input-field col s12">
						<i class="material-icons prefix">create</i>
						<input id="recipe_name" name="recipe_name" type="text" class="validate" value="{{recipe.recipe_name}}">
						<label for="icon_prefix">Recipe Name</label>
					</div>
				</div>

				<div class="row">
					<div class="input-field col s12">
						<i class="material-icons prefix">subject</i>
						<textarea id="recipe_description" name="recipe_description" type="text" class="materialize-textarea">{{recipe.recipe_description}}</textarea>
						<label for="icon_telephone">Recipe Description</label>
					</div>
				</div>

				<div class="row">
					<div class="input-field col s12 m6 l3">
						<i class="material-icons prefix">restaurant</i>
						<select multiple id="meals_courses" name="meal_course_type">
                    <option value="" disabled selected>Mealtimes and Courses</option>
                    {% for meals in meals_courses %}
                        {% if meals.meal_course_type == recipe.meal_course_type %}
                        <option value="{{meals.meal_course_type}}" selected >{{meals.meal_course_type}}</option>
                        {% else %}
                        <option value="{{meals.meal_course_type}}">{{meals.meal_course_type}}</option>
                    {% endif %}
                    {% endfor %}
                </select>
					</div>
					<div class="input-field col s12 m6 l3">
						<i class="material-icons prefix">fastfood</i>
						<select id="cuisines" name="cuisine">
                    <option value="" disabled selected>Cuisines</option>
                    {% for cuis in cuisines %}
                        {% if cuis.cuisine == recipe.cuisine %}
                        <option value="{{cuis.cuisine}}" selected >{{cuis.cuisine}}</option>
                        {% else %}
                        <option value="{{cuis.cuisine}}">{{cuis.cuisine}}</option>
                        {% endif %}
                    {% endfor %}
                </select>
					</div>
					<div class="input-field col s12 m6 l3">
						<i class="material-icons prefix">people_outline</i>
						<input id="serves" name="serves" type="number" class="materialize-textarea" value="{{recipe.serves}}">
						<label for="serves">Serves</label>
					</div>
					<div class="input-field col s12 m6 l3">
						<i class="material-icons prefix">access_time</i>
						<input id="time" name="time" type="text" class="materialize-textarea" value="{{recipe.time}}">
						<label for="time">Total Time</label>
					</div>
				</div>

				<div class="row">
                    <div class="switch col s6 m6 l3">
                        <label>
                        
                        {% if recipe.is_vegetarian %}
                            <input id="is_vegetarian" name="is_vegetarian" type="checkbox" checked >
                        {% else %}
                            <input id="is_vegetarian" name="is_vegetarian" type="checkbox" >
                        {% endif%}
                            <span class="lever"></span>
                            Vegetarian
                        </label>
                    </div>
                    <div class="switch col s6 m6 l3">
                        <label>
                        
                        {% if recipe.is_vegan %}
                            <input id="is_vegan" name="is_vegan" type="checkbox" checked >
                            {% else %}
                            <input id="is_vegan" name="is_vegan" type="checkbox" >
                            {% endif%}
                            <span class="lever"></span>
                            Vegan
                        </label>
                    </div>
                    <div class="switch col s6 m6 l3">
                        <label>
                        
                        {% if recipe.is_glutenFree %}
                            <input id="is_glutenFree" name="is_glutenFree" type="checkbox" checked >
                            {% else %}
                            <input id="is_glutenFree" name="is_glutenFree" type="checkbox" >
                            {% endif%}
                            <span class="lever"></span>
                            Gluten Free
                        </label>
                    </div>
                    <div class="switch col s6 m6 l3">
                        <label>
                        
                        {% if recipe.is_dairyFree %}
                            <input id="is_dairyFree" name="is_dairyFree" type="checkbox" checked >
                            {% else %}
                            <input id="is_dairyFree" name="is_dairyFree" type="checkbox" >
                            {% endif%}
                            <span class="lever"></span>
                            Dairy Free
                        </label>
                    </div> 
				</div>

				<div class="row">
					<div class="input-field col s12">
						<i class="material-icons prefix">add_shopping_cart</i>
						<textarea id="add_ingredients" name="add_ingredients" type="text" class="materialize-textarea">{{recipe.add_ingredients}}</textarea>
						<label for="add_ingredients">Ingredients</label>
					</div>
				</div>

				<div class="row">
					<div class="input-field col s12">
						<i class="material-icons prefix">list</i>
						<textarea id="method" name="method" type="text" class="materialize-textarea">{{recipe.method}}</textarea>
						<label for="method">Method</label>
					</div>
				</div>

				<div class="row">
                    <button class="btn waves-effect waves-light right" type="submit" name="action">Save Changes
                        <i class="material-icons right">playlist_add_check</i>
                    </button>
                </div>
                <div class="row">    
                    <a href="{{ url_for('get_recipes') }}" class="btn waves-effect waves-light right">Cancel<i class="material-icons right">cancel</i></a>
				</div>
	</form>
</div>

{% endblock %}